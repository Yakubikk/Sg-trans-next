# API Structure

–ù–æ–≤–∞—è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API –ø—Ä–æ–µ–∫—Ç–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ –¥–æ–º–µ–Ω–∞–º –∏ –æ–±—â–∏–º–∏ —É—Ç–∏–ª–∏—Ç–∞–º–∏.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/api/
‚îú‚îÄ‚îÄ index.ts                    # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö API
‚îú‚îÄ‚îÄ core/                       # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –∏ –±–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ apiInstance.ts         # –°–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ axios –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ errorHandler.ts        # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ requestHandler.ts      # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ references/                # API –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ index.ts              # –≠–∫—Å–ø–æ—Ä—Ç –º–æ–¥—É–ª—è references
‚îÇ   ‚îú‚îÄ‚îÄ referencesApi.ts      # API –º–µ—Ç–æ–¥—ã –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ types.ts              # –¢–∏–ø—ã –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ (Wagon, RepairType)
‚îî‚îÄ‚îÄ users/                     # API –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    ‚îú‚îÄ‚îÄ index.ts              # –≠–∫—Å–ø–æ—Ä—Ç –º–æ–¥—É–ª—è users
    ‚îî‚îÄ‚îÄ userApi.ts            # API –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### 1. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**
- –ö–∞–∂–¥—ã–π –¥–æ–º–µ–Ω (references, users) –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–∞–ø–∫–µ
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ API –º–æ–¥—É–ª–∏

### 2. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞**
- –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –≤ –ø–∞–ø–∫–µ `core/`
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö API

### 3. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- –¢–∏–ø—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ –¥–æ–º–µ–Ω–∞–º
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç

### 4. **–£–¥–æ–±—Å—Ç–≤–æ –∏–º–ø–æ—Ä—Ç–∞**
```typescript
// –ú–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è
import { referencesApi } from '@/api/references';

// –ò–ª–∏ –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞
import { referencesApi, createApiInstance } from '@/api';
```

## üìù –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π API –º–æ–¥—É–ª—å

1. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –¥–æ–º–µ–Ω–∞:
```bash
mkdir src/api/orders
```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã:
```typescript
// src/api/orders/types.ts
export interface Order {
  id: string;
  // ...
}

// src/api/orders/ordersApi.ts
import { createApiInstance, DEFAULT_API_CONFIG } from '../core/apiInstance';
import { makeRequest } from '../core/requestHandler';

const ordersApiInstance = createApiInstance(DEFAULT_API_CONFIG);

export const ordersApi = {
  getOrders: () => makeRequest(ordersApiInstance, 'get', '/orders'),
};

// src/api/orders/index.ts
export * from './ordersApi';
export * from './types';
```

3. –î–æ–±–∞–≤—å—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç –≤ –≥–ª–∞–≤–Ω—ã–π –∏–Ω–¥–µ–∫—Å:
```typescript
// src/api/index.ts
export * from './orders';
```

## üõ†Ô∏è Core —É—Ç–∏–ª–∏—Ç—ã

### `createApiInstance(config)`
–°–æ–∑–¥–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π axios –∏–Ω—Å—Ç–∞–Ω—Å —Å –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä–∞–º–∏

### `makeRequest(instance, method, endpoint, data?)`
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤

### `handleAxiosError(error)`
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ axios –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è

–°—Ç–∞—Ä—ã–µ –∏–º–ø–æ—Ä—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
```typescript
// –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±
import { referencesApi } from '@/api/referencesApi';

// –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± (–æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç)
import { referencesApi } from '@/api/references';
import { referencesApi } from '@/api';
```
